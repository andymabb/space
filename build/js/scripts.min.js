!function(e,n){"function"==typeof define&&define.amd?define([],n()):"object"==typeof module&&module.exports?module.exports=n():function t(){document&&document.body?e.zenscroll=n():setTimeout(t,9)}()}(this,function(){"use strict";var m=function(t){return t&&"getComputedStyle"in window&&"smooth"===window.getComputedStyle(t)["scroll-behavior"]};if("undefined"==typeof window||!("document"in window))return{};var o=function(a,n,f){var e;n=n||999,f||0===f||(f=9);var s=function(t){e=t},l=function(){clearTimeout(e),s(0)},d=function(t){return Math.max(0,a.getTopOf(t)-f)},g=function(t,o,i){if(l(),0===o||o&&o<0||m(a.body))a.toY(t),i&&i();else{var r=a.getY(),u=Math.max(0,t)-r,c=(new Date).getTime();o=o||Math.min(Math.abs(u),n),function n(){s(setTimeout(function(){var t=Math.min(1,((new Date).getTime()-c)/o),e=Math.max(0,Math.floor(r+u*(t<.5?2*t*t:t*(4-2*t)-1)));a.toY(e),t<1&&a.getHeight()+e<a.body.scrollHeight?n():(setTimeout(l,99),i&&i())},9))}()}},h=function(t,e,n){g(d(t),e,n)};return{setup:function(t,e){return(0===t||t)&&(n=t),(0===e||e)&&(f=e),{defaultDuration:n,edgeOffset:f}},to:h,toY:g,intoView:function(t,e,n){var o=t.getBoundingClientRect().height,i=a.getTopOf(t)+o,r=a.getHeight(),u=a.getY(),c=u+r;d(t)<u||r<o+f?h(t,e,n):c<i+f?g(i-r+f,e,n):n&&n()},center:function(t,e,n,o){g(Math.max(0,a.getTopOf(t)-a.getHeight()/2+(n||t.getBoundingClientRect().height/2)),e,o)},stop:l,moving:function(){return!!e},getY:a.getY,getTopOf:a.getTopOf}},i=document.documentElement,e=function(){return window.scrollY||i.scrollTop},a=o({body:document.scrollingElement||document.body,toY:function(t){window.scrollTo(0,t)},getY:e,getHeight:function(){return window.innerHeight||i.clientHeight},getTopOf:function(t){return t.getBoundingClientRect().top+e()-i.offsetTop}});if(a.createScroller=function(e,t,n){return o({body:e,toY:function(t){e.scrollTop=t},getY:function(){return e.scrollTop},getHeight:function(){return Math.min(e.clientHeight,window.innerHeight||i.clientHeight)},getTopOf:function(t){return t.offsetTop}},t,n)},"addEventListener"in window&&!window.noZensmooth&&!m(document.body)){var f="history"in window&&"pushState"in history,s=f&&"scrollRestoration"in history;s&&(history.scrollRestoration="auto"),window.addEventListener("load",function(){s&&(setTimeout(function(){history.scrollRestoration="manual"},9),window.addEventListener("popstate",function(t){t.state&&"zenscrollY"in t.state&&a.toY(t.state.zenscrollY)},!1)),window.location.hash&&setTimeout(function(){var t=a.setup().edgeOffset;if(t){var e=document.getElementById(window.location.href.split("#")[1]);if(e){var n=Math.max(0,a.getTopOf(e)-t),o=a.getY()-n;0<=o&&o<9&&window.scrollTo(0,n)}}},9)},!1);var l=new RegExp("(^|\\s)noZensmooth(\\s|$)");window.addEventListener("click",function(t){for(var e=t.target;e&&"A"!==e.tagName;)e=e.parentNode;if(!(!e||1!==t.which||t.shiftKey||t.metaKey||t.ctrlKey||t.altKey)){if(s){var n=history.state&&"object"==typeof history.state?history.state:{};n.zenscrollY=a.getY();try{history.replaceState(n,"")}catch(t){}}var o=e.getAttribute("href")||"";if(0===o.indexOf("#")&&!l.test(e.className)){var i=0,r=document.getElementById(o.substring(1));if("#"!==o){if(!r)return;i=a.getTopOf(r)}t.preventDefault();var u=function(){window.location=o},c=a.setup().edgeOffset;c&&(i=Math.max(0,i-c),f&&(u=function(){history.pushState({},"",o)})),a.toY(i,null,u)}}},!1)}return a});